<!DOCTYPE html>
<Html>
    <head>
        <title></title>
    </head>
    <body>
        <p>Rock Paper Scissors</p>

        <button 

        onclick="
        playGame('rock');"

        >Rock</button>

        <button 
        
        onclick="
        playGame('paper');"

        >Paper</button>

        <button 
        
        onclick="
        playGame('scissors');"
        
        >Scissors</button>
        
         <button
         onclick="
         score.ties = 0;
         score.wins = 0;
         score.losses = 0;
         localStorage.removeItem('score');
         ">Reset Score</button>

         <button onclick="
         alert(`win: ${score.wins}, Losses: ${score.losses},  Ties: ${score.ties}`)
         ">Score</button>
        <script>

            
            const rawScore = localStorage.getItem('score');
            const score = JSON.parse(localStorage.getItem('score'));
            
            
            function playGame(playerMove) {

                const computerMove = pickComputerMove();

                let result = '';    

                if (playerMove === 'rock') {

                    if (computerMove === 'rock') {
                        result = 'Tie';
                        score.ties += 1;
                    }else if (computerMove === 'paper') {
                        result = 'You Win';
                        score.wins += 1;
                    }else if (computerMove === 'scissors') {
                        result = 'You lose';
                        score.losses += 1;
                    }
                } else if (playerMove === 'paper') {

                    if (computerMove === 'rock') {
                        result = 'You lose';
                        score.losses += 1;
                    }else if (computerMove === 'paper') {
                        result = 'Tie';
                        score.ties += 1;
                    }else if (computerMove === 'scissors') {
                        result = 'You Win';
                        score.wins += 1;
                    }
                } else if (playerMove === 'scissors') {
                    if (computerMove === 'rock') {
                        result = 'You win';
                        score.ties += 1;
                    }else if (computerMove === 'paper') {
                        result = 'You lose';
                        score.losses += 1;
                    }else if (computerMove === 'scissors') {
                        result = 'Tie';
                        score.ties += 1;
                    }
                }
                console.log(score)

                localStorage.setItem('score', JSON.stringify(score));

               


                // if (result === 'You win') {
                //     score.wins += 1;
                // }else if (result === 'You lose') {
                //     score.losses += 1;
                // } else if (result === 'Tie'){
                //     score.ties += 1;
                // }


                alert(`You Choose: ${playerMove} Computer Picked: ${computerMove} \n ----${result} \n Wins: ${score.wins}, Ties: ${score.ties} Losses: ${score.losses}`);
            }

            function pickComputerMove () {
                const randomNumber = Math.random();

                let computerMove = '';
                
                if (randomNumber >=0 && randomNumber <1/3){
                    computerMove = 'rock'
                }else if (randomNumber >=1/3 && randomNumber < 2/3) {
                    computerMove = 'paper';
                } else if(randomNumber >= 2/3 && randomNumber <= 1) {
                    computerMove = 'scissors';
                }
                return computerMove;
            }
        </script>
    </body>
</Html>